package eecs448_lab7;

import java.io.InputStream;
import java.io.OutputStream;
import java.io.*;



public class matrixMain {

	public static void main(String[] args) {

			// Confirm command-line parameters
			if (args.length < 3)
			{
				System.out.println("Error - Expected usage: ./main input.txt output.txt");
			}
			
			// Initialize file streams
		    FileInputStream in = null;
		    FileOutputStream out = null;
			in = new FileInputStream(args[1]);
			out = new FileOutputStream(args[2]);
			
			// Process commands
			int n;
			int content;
			Matrix m;
			while ((content = in.read()) != -1 && n > 0)
			{
				m = new Matrix(n);
				//in >> m;
				m = in.read();
				
				out << "M = " << endl;
				out << m << endl;
				
				double det = m.determinant();
				out << "det(M) = " << det << endl << endl;
				
				if (det != 0)
				{
					Matrix inv = m.inverse();

					out << "Minv = " << endl << inv << endl;
				}
			}
		}
	}
